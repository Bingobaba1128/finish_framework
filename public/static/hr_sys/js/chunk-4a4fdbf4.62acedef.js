(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a4fdbf4"],{"259f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person_manage_wrap"},[a("div",{staticClass:"product_search"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm person_form",attrs:{model:e.ruleForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"员工姓名:"}},[a("el-input",{model:{value:e.ruleForm.clientName,callback:function(t){e.$set(e.ruleForm,"clientName",t)},expression:"ruleForm.clientName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.personSearchForm(t)}}},[e._v("检索")]),a("el-button",{nativeOn:{click:function(t){return e.personResetForm(t)}}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"new_add",on:{click:e.addPerson}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 新增员工 ")]),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","max-height":"480","row-key":"id",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:e.personInfoList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"employeeId",label:"员工编号",align:"center"}}),a("el-table-column",{attrs:{property:"employeeName",label:"员工姓名",align:"center"}}),a("el-table-column",{attrs:{property:"companyName",label:"公司",align:"center",width:"200"}}),a("el-table-column",{attrs:{property:"deptName",label:"部门",align:"center"}}),a("el-table-column",{attrs:{property:"duty",label:"岗位",align:"center"}}),a("el-table-column",{attrs:{property:"hireDate",label:"入职时间",align:"center"}}),a("el-table-column",{attrs:{property:"birthDate",label:"出生年月",align:"center"}}),a("el-table-column",{attrs:{property:"telephone",label:"联系电话",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.state?"离职":"在职"))]}}])}),a("el-table-column",{attrs:{property:"address",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{margin:"2px",width:"100px"},attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return e.personEditorClick(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{staticClass:"fy",attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.currentChange}}),a("el-dialog",{attrs:{title:e.titleType,visible:e.personVisible,closeOnClickModal:e.closeOnClickModal,closeOnPressEscape:e.closeOnPressEscape,width:"80%"},on:{"update:visible":function(t){e.personVisible=t}}},[a("div",{staticClass:"person_top"},[a("el-form",{ref:e.formDetailList,staticClass:"demo-formDetailList form2",attrs:{"label-width":"100px",model:e.formDetailList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工编号"}},[a("el-input",{model:{value:e.formDetailList.employeeId,callback:function(t){e.$set(e.formDetailList,"employeeId",t)},expression:"formDetailList.employeeId"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{model:{value:e.formDetailList.employeeName,callback:function(t){e.$set(e.formDetailList,"employeeName",t)},expression:"formDetailList.employeeName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"公司"}},[a("el-select",{on:{change:e.selectCompany},model:{value:e.formDetailList.company,callback:function(t){e.$set(e.formDetailList,"company",t)},expression:"formDetailList.company"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.deptName,attrs:{label:e.deptName,value:String(e.deptId)}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{on:{change:e.selectDept},model:{value:e.formDetailList.department,callback:function(t){e.$set(e.formDetailList,"department",t)},expression:"formDetailList.department"}},e._l(e.deptList,(function(e){return a("el-option",{key:e.deptName,attrs:{label:e.deptName,value:String(e.deptId)}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"暂不选择岗位",disabled:!0},model:{value:e.formDetailList.duty,callback:function(t){e.$set(e.formDetailList,"duty",t)},expression:"formDetailList.duty"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{model:{value:e.formDetailList.telephone,callback:function(t){e.$set(e.formDetailList,"telephone",t)},expression:"formDetailList.telephone"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:e.formDetailList.email,callback:function(t){e.$set(e.formDetailList,"email",t)},expression:"formDetailList.email"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入职日期"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.formDetailList.hireDate,callback:function(t){e.$set(e.formDetailList,"hireDate",t)},expression:"formDetailList.hireDate"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生日期"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.formDetailList.birthDate,callback:function(t){e.$set(e.formDetailList,"birthDate",t)},expression:"formDetailList.birthDate"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:e.formDetailList.state,callback:function(t){e.$set(e.formDetailList,"state",t)},expression:"formDetailList.state"}},[a("el-option",{attrs:{label:"在职",value:"0"}}),a("el-option",{attrs:{label:"离职",value:"1"}})],1)],1)],1)],1)],1),a("div",{staticStyle:{margin:"15px 0 0 0",textAlign:"center"}},[a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.submitForm(t)}}},[e._v("提交")])],1)])],1)},r=[],l=(a("a9e3"),a("f292")),n=(a("b383"),{name:"rygl",data:function(){return{total:1e3,pagesize:50,currentPage:1,fanye:1,titleType:"",selectType:"",personVisible:!1,closeOnClickModal:!1,closeOnPressEscape:!1,ruleForm:{},formDetailList:{},personInfoList:[],companyList:[],deptList:[]}},methods:{currentChange:function(e){this.$refs.table.bodyWrapper.scrollTop=0,this.currentPage=e,1==this.fanye?this.loadPersonInfo():this.personSearchForm()},personSearchForm:function(){var e=this;if(this.currentPage?(this.currentPage,this.currentPage):this.currentPage="",this.fanye=2,this.ruleForm.clientName){var t={pageSize:50,pageNumer:this.currentPage,condition:this.ruleForm.clientName};l["b"](t).then((function(t){e.personInfoList=t.data,e.total=Number(t.data[0].duty)/5})).catch((function(e){console.log(e)}))}else this.$message({message:"请输入员工姓名",duration:2e3})},personResetForm:function(){this.currentPage,this.fanye=1,this.ruleForm={},this.loadPersonInfo()},personEditorClick:function(e){this.selectCompany(e.deptId),this.formDetailList=e,this.titleType="编辑人员",this.selectType=2,this.personVisible=!0,this.readCompanyList()},addPerson:function(){this.formDetailList={},this.titleType="新增员工",this.personVisible=!0,this.selectType=1,this.readCompanyList()},p:function(e){return e<10?"0"+e:e},readCompanyList:function(){var e=this,t={parentId:0};l["a"](t).then((function(t){e.companyList=t.data})).catch((function(e){console.log(e)}))},selectCompany:function(e){var t=this;this.$set(this.formDetailList,"company",e);var a={parentId:e};l["a"](a).then((function(e){t.deptList=e.data})).catch((function(e){console.log(e)}))},selectDept:function(e){this.$set(this.formDetailList,"department",e)},submitForm:function(){var e=this;if(1==this.selectType){var t=new Date(this.formDetailList.hireDate);this.formDetailList.hireDate=t.getFullYear()+"-"+this.p(t.getMonth()+1)+"-"+this.p(t.getDate());var a=new Date(this.formDetailList.birthDate);if(this.formDetailList.birthDate=a.getFullYear()+"-"+this.p(a.getMonth()+1)+"-"+this.p(a.getDate()),this.formDetailList.email)if(this.formDetailList.employeeName)if(this.formDetailList.telephone){this.$set(this.formDetailList,"orderNo","1");var i=this.formDetailList;l["d"](i).then((function(t){200==t.code?(e.personVisible=!1,e.$message({message:"新增成功",duration:2e3})):e.$message({message:t.msg,duration:2e3})})).catch((function(e){console.log(e)}))}else this.$message({message:"请输入联系方式",duration:2e3});else this.$message({message:"请输入姓名",duration:2e3});else this.$message({message:"请输入邮箱",duration:2e3})}else{var r=new Date(this.formDetailList.hireDate);this.formDetailList.hireDate=r.getFullYear()+"-"+this.p(r.getMonth()+1)+"-"+this.p(r.getDate());var n=new Date(this.formDetailList.birthDate);this.formDetailList.birthDate=n.getFullYear()+"-"+this.p(n.getMonth()+1)+"-"+this.p(n.getDate());var s=this.formDetailList;l["g"](s).then((function(t){200==t.code?(e.personVisible=!1,e.$message({message:"修改成功",duration:2e3})):e.$message({message:t.msg,duration:2e3})})).catch((function(e){console.log(e)}))}},loadPersonInfo:function(){var e=this;this.fanye=1;var t={symbol:2,pageSize:50,pageNumer:this.currentPage};l["b"](t).then((function(t){e.personInfoList=t.data,e.total=Number(t.data[0].duty)/5})).catch((function(e){console.log(e)}))}},created:function(){this.loadPersonInfo()}}),s=n,o=(a("52cc"),a("2877")),c=Object(o["a"])(s,i,r,!1,null,"1d573f6e",null);t["default"]=c.exports},"52cc":function(e,t,a){"use strict";var i=a("e7f8"),r=a.n(i);r.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var i=a("1d80"),r=a("5899"),l="["+r+"]",n=RegExp("^"+l+l+"*"),s=RegExp(l+l+"*$"),o=function(e){return function(t){var a=String(i(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(e,t,a){var i=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var l,n;return r&&"function"==typeof(l=t.constructor)&&l!==a&&i(n=l.prototype)&&n!==a.prototype&&r(e,n),e}},a9e3:function(e,t,a){"use strict";var i=a("83ab"),r=a("da84"),l=a("94ca"),n=a("6eeb"),s=a("5135"),o=a("c6b6"),c=a("7156"),m=a("c04e"),u=a("d039"),p=a("7c73"),f=a("241c").f,d=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,g="Number",y=r[g],D=y.prototype,L=o(p(D))==g,v=function(e){var t,a,i,r,l,n,s,o,c=m(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(l=c.slice(2),n=l.length,s=0;s<n;s++)if(o=l.charCodeAt(s),o<48||o>r)return NaN;return parseInt(l,i)}return+c};if(l(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var N,I=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof I&&(L?u((function(){D.valueOf.call(a)})):o(a)!=g)?c(new y(v(t)),a,I):v(t)},k=i?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)s(y,N=k[x])&&!s(I,N)&&h(I,N,d(y,N));I.prototype=D,D.constructor=I,n(r,g,I)}},e7f8:function(e,t,a){},f292:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"g",(function(){return m}));var i=a("751a"),r=function(e){return Object(i["a"])({url:"/ERP/selectDepartment",method:"get",params:e})},l=function(e){return Object(i["a"])({url:"/ERP/addDepartment",method:"post",data:e})},n=function(e){return Object(i["a"])({url:"/ERP/editDepartment",method:"post",data:e})},s=function(e){return Object(i["a"])({url:"/ERP/delDepartment",method:"post",data:e})},o=function(e){return Object(i["a"])({url:"/ERP/selectEmplyee1",method:"get",params:e})},c=function(e){return Object(i["a"])({url:"/ERP/addEmployee",method:"post",data:e})},m=function(e){return Object(i["a"])({url:"/ERP/editEmployee",method:"post",data:e})}}}]);